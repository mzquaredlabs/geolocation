(function(){"use strict";var t={8860:function(t,e,n){var i=n(7764),o=n(4108);function a(t,e,n,i,a,r){const c=(0,o.E1)("TestingMultiple");return(0,o.Wz)(),(0,o.Az)(c)}var r=n(9096);const c=(0,o.QD)("p",null,"Please first fetch the user data and then select org from dropdown",-1),u=(0,o.QD)("br",null,null,-1),s=(0,o.QD)("br",null,null,-1),l=(0,o.QD)("p",null,"Select a organization",-1),d=["value"];function g(t,e,n,a,g,h){return(0,o.Wz)(),(0,o.An)(o.ae,null,[c,(0,o.QD)("div",null,[(0,o.QD)("button",{onClick:e[0]||(e[0]=(...t)=>h.getLocation&&h.getLocation(...t))},"Get Location"),(0,o.QD)("button",{onClick:e[1]||(e[1]=(...t)=>h.fetchGoogleMapsLocation&&h.fetchGoogleMapsLocation(...t))}," Get Location with Google API "),(0,o.QD)("p",null," Geolocation API accuracy in meters when fetching user location:"+(0,r.WA)(g.geolocationApiAccuracy),1),(0,o.QD)("p",null," Google Maps Geolocation API accuracy in meters when fetching user location: "+(0,r.WA)(g.googleApiAccuracy),1),u,(0,o.QD)("p",null,"Latitude "+(0,r.WA)(g.latitude),1),(0,o.QD)("p",null,"Longitude "+(0,r.WA)(g.longitude),1),s,l,(0,o.wt)((0,o.QD)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>g.selectedOrganization=t),onChange:e[3]||(e[3]=(...t)=>h.onOrganizationChange&&h.onOrganizationChange(...t))},[((0,o.Wz)(!0),(0,o.An)(o.ae,null,(0,o.mi)(g.organizations,(t=>((0,o.Wz)(),(0,o.An)("option",{value:t,key:t.id},(0,r.WA)(t.nameOfOrganization),9,d)))),128))],544),[[i.Ip,g.selectedOrganization]]),(0,o.QD)("p",null,"Distance to organization "+(0,r.WA)(g.distanceToOrganization),1),(0,o.QD)("span",null,[(0,o.QD)("p",null,(0,r.WA)(g.userMessage),1)])])],64)}var h=n(6922),f={data(){return{geolocationApiAccuracy:null,googleApiAccuracy:null,latitude:"",longitude:"",selectedOrganization:null,distanceToOrganization:null,isPunchedIn:!1,isPunchedOut:!1,userMessage:"",organizations:[{id:1,nameOfOrganization:"Convenience, Dingli",latitude:35.861579718553045,longitude:14.384102888618935,meters:200,startTime:"2024-02-10T00:15:00Z",endTime:"2024-02-10T00:18:00Z"},{id:2,nameOfOrganization:"Barbajean",latitude:35.86092166581468,longitude:14.382550960199088,meters:20,startTime:"2024-02-08T11:00:00Z",endTime:"2024-02-08T11:03:00Z"},{id:3,nameOfOrganization:"Patrick Prints",latitude:35.870565544942906,longitude:14.44673215440333,meters:20,startTime:"2024-02-08T11:00:00Z",endTime:"2024-04-08T11:03:00Z"},{id:4,nameOfOrganization:"Master Grocer",latitude:35.87132748428104,longitude:14.446681336282058,meters:20,startTime:"2024-02-08T11:00:00Z",endTime:"2024-04-08T11:03:00Z"}]}},methods:{getLocation(){navigator.geolocation.getCurrentPosition(this.success,this.error,{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},fetchGoogleMapsLocation(){const t="https://www.googleapis.com/geolocation/v1/geolocate?key=AIzaSyAizlo3Mfwncv2biC86x_U4-B7FV2V2qFg";fetch(t,{method:"POST",headers:{"Content-Type":"application/json"}}).then((t=>{if(!t.ok)throw new Error("Network response was not ok");return t.json()})).then((t=>{this.latitude=t.location.lat,this.longitude=t.location.lng,this.googleApiAccuracy=`${t.accuracy} meters`})).catch((t=>{console.error("Error fetching location from Google Maps Geolocation API:",t)}))},success(t){const e=t.coords;this.latitude=e.latitude,this.longitude=e.longitude,this.geolocationApiAccuracy=`${e.accuracy} meters `},error(t){console.warn(`ERROR(${t.code}): ${t.message}`)},onOrganizationChange(){this.isPunchedIn=!1,this.isPunchedOut=!1,this.userMessage="",null!==this.latitude&&null!==this.longitude&&this.updateLocation({coords:{latitude:this.latitude,longitude:this.longitude}})},updateLocation(t){this.latitude=t.coords.latitude,this.longitude=t.coords.longitude;const e=(0,h.GYe)([this.longitude,this.latitude]),n=(0,h.GYe)([this.selectedOrganization.longitude,this.selectedOrganization.latitude]),i={units:"meters"};this.distanceToOrganization=`${(0,h.qy3)(e,n,i).toFixed()} meters`,this.isPunchedInEnabled(),this.isPunchOutEnabled()},isPunchedInEnabled(){const t=new Date,e=new Date(this.selectedOrganization?.startTime);return this.distanceToOrganization<=this.selectedOrganization?.meters&&t>=e},isPunchOutEnabled(){const t=new Date,e=new Date(this.selectedOrganization?.endTime);return this.distanceToOrganization<=this.selectedOrganization?.meters&&t>=e},handleCheckIn(){this.userMessage=`Punched in at ${this.selectedOrganization.nameOfOrganization}`,this.isPunchedIn=!0},handlePunchOut(){this.userMessage=`Punched out at ${this.selectedOrganization.nameOfOrganization}`,this.isPunchedOut=!0}}},p=n(4100);const O=(0,p.c)(f,[["render",g]]);var m=O,z={name:"App",components:{TestingMultiple:m}};const v=(0,p.c)(z,[["render",a]]);var A=v;(0,i.W0)(A).mount("#app")}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var a=e[i]={exports:{}};return t[i].call(a.exports,a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,i,o,a){if(!i){var r=1/0;for(l=0;l<t.length;l++){i=t[l][0],o=t[l][1],a=t[l][2];for(var c=!0,u=0;u<i.length;u++)(!1&a||r>=a)&&Object.keys(n.O).every((function(t){return n.O[t](i[u])}))?i.splice(u--,1):(c=!1,a<r&&(r=a));if(c){t.splice(l--,1);var s=o();void 0!==s&&(e=s)}}return e}a=a||0;for(var l=t.length;l>0&&t[l-1][2]>a;l--)t[l]=t[l-1];t[l]=[i,o,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};n.O.j=function(e){return 0===t[e]};var e=function(e,i){var o,a,r=i[0],c=i[1],u=i[2],s=0;if(r.some((function(e){return 0!==t[e]}))){for(o in c)n.o(c,o)&&(n.m[o]=c[o]);if(u)var l=u(n)}for(e&&e(i);s<r.length;s++)a=r[s],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(l)},i=self["webpackChunkpunch"]=self["webpackChunkpunch"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[999],(function(){return n(8860)}));i=n.O(i)})();
//# sourceMappingURL=app.cbb9a3ae.js.map